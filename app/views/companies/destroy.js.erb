//delete.js.erb


$('body').addClass("loading"); //starts the 'loading' animation


var a = $.Deferred();
var b = $.Deferred();
var c = $.Deferred();

$.get(BASE_URL + '/companylist', $(this).serialize(), function(response){
	            	
	$('.competitor-list').replaceWith(response);
	a.resolve();

}); //updates competitor list

$.get(BASE_URL + '/investorlist', $(this).serialize(), function(response){
	
	$('.investors').replaceWith(response);
	b.resolve();

}); //updates investors

$.get(BASE_URL + '/companylistfulldata', $(this).serialize(), function(response){
	
	$('.competitor-list-fulldata').replaceWith(response);
	c.resolve();

}); //updates competitor table

$.when(a, b, c).done(function(){ //this waits until everything has been updated to take away loading animation

	$('body').removeClass("loading"); //takes away loading animation

});