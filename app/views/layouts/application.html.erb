<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<%= yield :head %>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Bootstrap (not needed because of netdna CDN)
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen"> -->
	<!-- Latest compiled and minified CSS -->
	
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<!-- Optional theme 
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
	-->
	<!-- Custom styles for this template -->
	<!-- already provided in rails framework
	<link href="assets/css/style.css" rel="stylesheet">
	-->

	<%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
	<%= javascript_include_tag "application", "data-turbolinks-track" => true %>
	<%= csrf_meta_tags %>
	
	<link rel="icon" href="favicon.ico" type="image/x-icon" /> 
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
	
	<%= favicon_link_tag 'favicon.ico' %>

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,600,700,800,300' rel='stylesheet' type='text/css'>
	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	  <script src="../../assets/js/html5shiv.js"></script>
	  <script src="../../assets/js/respond.min.js"></script>
	<![endif]-->
  
</head>
<body>

	<%= render 'layouts/header' %>
	<%= yield %>
	<%= render 'layouts/footer' %>	
	
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="http://code.jquery.com/jquery.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed 
	<script src="js/bootstrap.min.js"></script> -->
	<!-- Latest compiled and minified JavaScript -->
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	
	<script src="assets/js/typeahead-WithModByAmit.js"></script>
	
	<script src="assets/js/scripts.js"></script>
	
	<script>
		/* test script 	
		$.getJSON( "http://autocomplete.crunchbase.com/autocomplete.js?&q=face&f=company&limit=20&_=", function( json ) {
			document.write(json);
			console.log( "JSON Data: " + json.results );
		});
		*/
	
		/* remote: 'http://api.crunchbase.com/v/1/company/Kabam.js?api_key=236qvz77rth5wmmr9g2cqnhr' */
		
	</script>
	
	<script>
		$(".alert").alert()
	</script>
	

	<!-- This is some JS to not leave the page when the form is submitted (I think)--> 
	
	<script>

		$(document).ready(function(){
			$('#company-form-button').click(function () {
				console.log('button pressed!');
			    var $btn = $(this)
			    $btn.button('loading');

			    $('#companyName1').hide(); //hides the search box when button is pressed

		  	});
		});


		$(document).ready(function(){
		   var $form = $('form');
		   $form.submit(function(){
		      $.get($(this).attr('action'), $(this).serialize(), function(response){
		            
		            console.log('company submitted!'); //this just prints a confirmation to the console that the company was added

		            $('#companyName1').show(); //unhides the search box after successful submission

		            $( '#company-form' ).each(function(){
					    this.reset();
					}); //This resets the competitor field in the form

		            $('#company-form-button').button('reset'); //this resets the search button;	

		            // console.log($.get('http://localhost:3000')); //trying to refresh the partials

		      });
		      return false;
		   });
		}); //This function sends the request without leaving the page



	</script> 

</body>
</html>
